<!DOCTYPE html>
<html lang="en">
<head>
  <title>Quicklime</title>
  <meta charset='UTF-8'>

  <link rel="stylesheet" href="static/quicklime/bootstrap-3.2.0/css/bootstrap.css"/>
  <link rel="stylesheet" href="static/quicklime/bootstrap-3.2.0/css/bootstrap-theme.css"/>
  <link rel="stylesheet" href="static/quicklime/brat/static/style-vis.css"/>
  <link rel="stylesheet" href="static/quicklime/quicklime.css"/>

  <script src="static/quicklime/jquery-1.11.1.min.js"></script>
  <script src="static/quicklime/underscore-1.7.0.min.js"></script>
  <script src="static/quicklime/bootstrap-3.2.0/js/bootstrap.js"></script>
  <script src="static/quicklime/d3/3.4.4/d3.js"></script>
  <script src="static/quicklime/dagre-d3/0.2.9/dagre-d3.js"></script>
  <script src="static/quicklime/jquery.splitter.js"></script>

  <!-- === BRAT SCRIPTS === -->
  <!-- SVG for jQuery: http://keith-wood.name/svg.html

       BRAT comes bundled with v1.4.3 of SVG for jQuery, which is incompatible
       with jQuery v1.7.2 and later.  We are using the jQuery SVG files from
       a fork of the project:
         https://github.com/twitwi/svg

       This fork is compatible with jQuery 1.8+, but not jQuery 1.7.
  -->
  <script src="static/quicklime/jquery.svg.js"></script>
  <script src="static/quicklime/jquery.svgdom.js"></script>

  <!-- BRAT helper modules -->
  <script src="static/quicklime/brat/client/src/configuration.js"></script>
  <script src="static/quicklime/brat/client/src/util.js"></script>
  <script src="static/quicklime/brat/client/src/annotation_log.js"></script>

  <!-- BRAT modules -->
  <script src="static/quicklime/brat/client/src/dispatcher.js"></script>
  <script src="static/quicklime/brat/client/src/url_monitor.js"></script>
  <script src="static/quicklime/brat/client/src/visualizer.js"></script>
  <!-- === /BRAT SCRIPTS === -->

  <script src="static/quicklime/quicklime.js"></script>
  <script src="static/quicklime/quicklime.brat.js"></script>
  <script src="static/quicklime/quicklime.parse.js"></script>

  <script src="static/quicklime/thrift.js"></script>
  <script src="static/quicklime/concrete.js"></script>

  <script>
   $(document).ready(function() {
     var transport = new Thrift.Transport("/quicklime/thrift_endpoint/");
     var protocol = new Thrift.TJSONProtocol(transport);
     var client = new CommunicationServiceClient(protocol);
     var comm = client.readComm();
     comm.addInternalReferences();

     $('#save_button').click(function() {
       client.writeComm(comm);
     });

     QL.addCommunication('communication_one', comm);
     QL.parse.addTokenizationParseControls(comm);
     QL.brat.addTokenizationBRATControls(comm);
     QL.addEntityTable('entityTable', comm);
//     QL.addSituationMentionTable('situationMentionTable', comm);
//     QL.addMouseoverHighlightingForAllEntitySets(comm);

     $("#toggle_controls").click(function(event) {
       var id = $(event.target).find('input').attr('id');
       if (id === "show_controls") {
         $('.tokenization_controls').show();
       }
       else if (id === "hide_controls") {
         $('.tokenization_controls').hide();
       }
     });

     $('#splitter').splitter({
       resizeTo: window,
       sizeTop: true,
       splitHorizontal: true
     });
   });
  </script>
  <style>
   html, body {
     margin: 0px;
     padding: 0px;
     overflow: hidden;
   }
   body {
     padding-top: 50px;
   }
   .splitter-pane {
     overflow: auto;
   }
   div.splitter-bar-horizontal {
     height: 3px;
     background: #444444;
   }
   #splitter {
     height: 300px;
   }
  </style>
</head>
<body>

  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <button id="save_button" type="button" class="btn btn-default navbar-btn">Save</button>
      <div class="btn-group" data-toggle="buttons" id="toggle_controls">
        <label class="btn btn-default active">
          <input type="radio" name="toggle_controls" id="show_controls" checked> Show Controls
        </label>
        <label class="btn btn-default">
          <input type="radio" name="toggle_controls" id="hide_controls"> Hide Controls
        </label>
      </div>
    </div>
  </nav>

  <div id="splitter">
    <div style="height: 400px; min-height: 150px;">
      <div class="container-fluid">
        <h2>Text</h2>
        <div id="communication_one"></div>
      </div>
    </div>
    <div style="margin-top: 0.5em;">
      <div class="container-fluid">

        <div class="panel-group">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapseEntities">
                  Entities
                </a>
              </h4>
            </div>
            <div id="collapseEntities" class="panel-collapse collapse in">
              <div class="panel-body">
                <div id="entityTable"></div>
              </div>
            </div>
          </div>
          <!--
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapseSituationMentions">
                  Situation Mentions
                </a>
              </h4>
            </div>
            <div id="collapseSituationMentions" class="panel-collapse collapse in">
              <div class="panel-body">
                <div id="situationMentionTable"></div>
              </div>
            </div>
          </div>
          -->
        </div>
      </div>
    </div>
  </div><!-- #splitter -->

</body>
</html>
